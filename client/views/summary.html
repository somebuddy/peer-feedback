<template name="work_summary">
  <section class="content report list">
    <header class="row">
      <div class="title">Reviews Report</div>
      <div class="share-twitter"></div>
      <div class="share-google"></div>
      <div class="share-facebook"></div>
      <div class="share-linkedin"></div>
    </header>
    {{ > work_summary_result }}

    {{ > work_summary_reviews }}

    {{ > work_reviews_results }}
    {{ > work_reviews_details }}
  </section>
</template>

<template name="work_summary_result">
  {{ > work_info work=this score=workScore }}
</template>

<template name="work_summary_reviews">
  <section class="reviews-summary user-feedback-list">
  {{#if reviews }}
    {{#if reviews.error }}
      <div class="alert alert-danger">{{ reviews.error.message }}</div>
    {{/if}}

    {{#if reviews }}
      {{#each reviews.result}}
      <article class="user-feedback {{reviewFeedbackStyle this}}">
        <div class="user">{{ getUserName user }}</div>
        <div class="score {{scoreRate this}}">{{reviewScore this}}</div>
        <div class="feedback">{{#markdown}}{{ this.feedback }}{{/markdown}}</div>
      </article>
      {{/each}}
    {{/if}}
  {{/if}}
  </section>
</template>

<template name="work_summary_requirements">
  <h1>Summary Requirements</h1>
</template>



<template name="work_reviews_results">
  <section class="reviews-summary user-feedback-list">
    {{#each reviews}}
    <article class="user-feedback {{reviewFeedbackStyle this}}">
      <div class="user">{{ getUserName user }}</div>
      <div class="score {{scoreRate this}}">{{reviewScore this}}</div>
      <div class="feedback">{{#markdown}}{{ this.feedback }}{{/markdown}}</div>
    </article>
    {{/each}}
  </section>
</template>

<template name="work_reviews_details">
  <section class="reviews-details">
    <header>
      <h4>Details</h4>
    </header>
    {{#each requirementsSummary}}
      <article class="requirement summary">
        <header class="row widget requirement">
          <div class="row-id">{{sum @index 1 }}</div>
          <div class="title">{{ title }}</div>
          <div class="block earned-score small {{requirementScoreRate this}}">
            <span class="value">{{ this.result }}</span>
            <span class="total">of {{ this.score }}</span>
          </div>
        </header>
        <div class="user-feedback-list">
          {{#each this.reviews}}
          <article class="user-feedback {{reviewFeedbackStyle this}} size-{{ this.result }}">
            <div class="user">{{ getUserName user }}</div>
            <div class="score {{requirementScoreRate this}}">{{ this.result }}</div>
            <div class="feedback">{{#markdown}}{{ this.feedback }}{{/markdown}}</div>
          </article>
          {{/each}}
        </div>
      </article>
    {{/each}}
  </section>
</template>