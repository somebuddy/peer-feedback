<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
</head>

<body>
</body>

<template name="page">
  <div class="page assignments">
    {{> yield "navbar" }}
    {{> yield "header" }}
    {{> yield "content" }}
    {{> yield "aside-left" }}
    {{> yield "aside-right" }}
    {{> yield "footer" }}
    {{> yield "modal" }}
  </div>
</template>

<template name="navbar">
  <nav class="navbar">
    <div class="container-fluid">
      <a class="brand" href="/">
        <div class="logo logo-reviews">
            <span class="glyphicon glyphicon-education"></span>
        </div>
        <span class="name">Peer Reviews</span>
      </a>
      <div class="navbar-header">
        <div class="navbar-toggle collapsed"
          data-toggle="collapse"
          data-target="#main_navbar"
          aria-expanded="false">
          <div class="hamburger-button white">
            <div class="lines"></div>
          </div>
        </div>
      </div>

      <div class="collapse navbar-collapse pull-right" id="main_navbar">
        <ul class="nav navbar-nav">
          <li><a href="/">Assignments</a></li>
          <li><a href="/reviews">Reviews</a></li>
          <li><a href="#">Sign in</a></li>
          <li><a href="#">Sign up</a></li>
          <li><a href="https://github.com/somebuddy/peer-feedback" target="_blank"><img src="/images/github.png"></a></li>
        </ul>
      </div>
    </div>
  </nav>
</template>

<template name="assignments_header">
  <header class="text-center">
    <h1>Free peer reviews</h1>
    <h4>Submit assignment. Make reviews. Get feedback.</h4>
    <div class="button">Read more...</div>
  </header>
</template>

<template name="assignment_details_header">
  <header>
    <a class="button" href="/">
      <span class="glyphicon glyphicon-chevron-left"></span>
      Back to list
    </a>
    <h1 class="text-center">{{ title }}</h1>
    <section class="description">
      <h4 class="text-center">{{ description }}</h4>
    </section>
    <section class="submit">
      <div class="submit-date">submit by <strong>{{formatDate dueDate }}</strong></div>
      <div class="button primary submit-button">Submit your work...</div>
      <div class="button success review-button">Review works</div>
    </section>
  </header>
</template>

<template name="reviews_header">
  <header class="text-center">
    <h1>Make a review</h1>
    <section class="description">
      <h4>Look at others works. Evaluate them. Because judging is funny.</h4>
      <div class="button">Read more...</div>
    </section>
  </header>
</template>

<template name="assignments_list">
  <div class="board assignments">
    {{#each assignments}}
    <article class="widget assignment {{ dueCSSClass dueDate }} ">
      <div class="main">
        <div class="title">{{ title }}</div>
      </div>
      <a class="menu" href="{{ _id }}" style="display: none;">
        <span class="glyphicon glyphicon-option-vertical"></span>
      </a>
      <div class="secondary description">
          {{ description }}
      </div>
      <div class="tags secondary">
        {{#each tags}}
        <div class="tag">{{ this }}</div>
        {{/each}}
      </div>
      <div class="main" style="display: none">
        <div class="level">
          {{>starsRating rating=level star="\\e074" }}
        </div>
        <div class="rating">
          {{>starsRating rating=rating star="\\e006"}}
        </div>
      </div>
      <div class="state">
        <div class="main">
          <div class="left">
            <div class="score">
              <strong>Points:</strong> {{ score }}
            </div>
          </div>
          {{#if dueDate }}
          <div class="right due-date">
            <!--<strong>due</strong> {{ timeLeft dueDate }}-->
            due <strong>{{ timeLeft dueDate }}</strong>
          </div>
          {{/if}}
        </div>
      </div>
    </article>
    {{/each}}
  </div>
</template>

<template name="requirements_list">
  <div class="board requirements">
    <header>
      <h4>Requirements</h4>
    </header>
    {{#each this}}
      <div class="widget requirement group-{{ this.task }}">
        <div class="row-id">{{sum @index 1 }}</div>
        <div class="title">{{ title }}</div>
        <div class="score">
          <span class="label">Points: </span>
          <span class="value">{{ score }}</span>
        </div>
      </div>
    {{/each}}
  </div>
</template>

<template name="submit_work">
  <div class="modal-wrapper">
    <form class="modal work-form">
      <header>
        <div class="title">Submit your work</div>
        <div class="close-button"></div>
      </header>
      <section class="content">
        <div class="input-widget">
          <label for="user_name">User name</label>
          <input type="text" id="user_name" name="user_name" required>
          <div class="input-underline"></div>
        </div>
        <div class="input-widget">
          <label for="source_url">Source URL</label>
          <input type="url" id="source_url" name="source_url" required>
          <div class="input-underline"></div>
        </div>
        <div class="input-widget">
          <label for="preview_url">Preview URL <small>( optional )</small></label>
          <input type="url" id="preview_url" name="preview_url">
          <div class="input-underline"></div>
        </div>
        <div class="input-widget">
          <label for="comments">Comments <small>( optional )</small></label>
          <textarea id="comments" name="comments"></textarea>
          <div class="input-underline"></div>
        </div>
      </section>
      <footer>
        <button class="button primary submit-work-button">Submit</button>
      </footer>
    </form>
  </div>
</template>

<template name="assignment_make_review_header">
  <header>
    <a class="button" href="/">
      <span class="glyphicon glyphicon-chevron-left"></span>
      Assignments list
    </a>
    <h1 class="text-center">{{ title }}</h1>
    <section class="description">
      <h4 class="text-center">{{ description }}</h4>
    </section>
    <section class="submit">
      <div class="user"></div>
      <div class="submit-date">submited <strong>{{formatDate dueDate }}</strong></div>
    </section>
  </header>
</template>

<template name="review_checklist">
  <form class="board requirements check-list">
    <header>
      <h4>Checklist</h4>
      <small>Look at the list of requirements and check whether they are met or not</small>
    </header>
    {{#each requirements}}
      {{> check_requirement requirement=this num=@index }}
    {{/each}}
    <section>
      <div class="input-widget">
        <label for="feedback">Feedback <small>( optional )</small></label>
        <textarea id="feedback" name="feedback" rows=5></textarea>
        <div class="input-underline"></div>
      </div>
    </section>
    <footer>
      <button class="button success submit-review">Submit review</button>
    </footer>
  </form>
</template>

<template name="check_requirement">
  <div class="widget requirement group-{{ requirement.task }}">
    <div class="row-id">{{sum num 1 }}</div>
    <div class="title">{{ requirement.title }}</div>
    <div class="title">{{ requirement.result }}</div>
    <div class="check-switcher {{getMark checkResult}}">
      <div class="yes">Done</div>
      <div class="no">Not done</div>
    </div>
  </div>
</template>